def tokens fn (split-pred string)
  local reverse = complement split-pred .
  if (some split-pred string)
    then cons : takewhile reverse string
              : tokens split-pred : cdr : dropwhile reverse string
   else
     singleton string
end

def lines fn (string)
  tokens (char= '\n') string .

def words fn (string)
  tokens isspace string .