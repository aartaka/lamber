def tokens fn (splitpred string)
  local reverse = complement splitpred .
  if (some splitpred string)
    then cons : takewhile reverse string
              : tokens splitpred : cdr : dropwhile reverse string
   else
     singleton string
end

def lines fn (string)
  tokens (char= '\n') string .

def words fn (string)
  tokens isspace string .