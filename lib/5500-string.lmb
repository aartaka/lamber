def tokens fn (splitpred string)
  local rev = complement splitpred .
  if (some splitpred string)
    then cons : takewhile rev string
              : tokens splitpred : cdr : dropwhile rev string
   else
     singleton string
end

def lines fn (string)
  tokens (char= '\n') string .

def words fn (string)
  tokens isspace string .