;; Box/Option/Maybe idea adapted from:
;; https://text.marvinborner.de/2023-04-07-01.html
;; none is nil is false is 0

def maybe fn (x just none)
  just x .

alias option maybe .

def isjust fn (maybe)
  maybe (fn _ false) true .

alias isJust isjust .
alias just? isjust .
alias justp isjust .

def isnothing = complement isjust .
alias isNothing isnothing .

def just fn (maybe default)
  maybe identity default .

alias result just .