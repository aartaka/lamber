;; Box/Option/Maybe idea adapted from:
;; https://text.marvinborner.de/2023-04-07-01.html
;; none is nil is false is 0

def maybe fn (x just none)
  just x .

alias option maybe .

def isnothing fn (maybe)
  maybe (fn _ false) true .

alias isNothing isnothing .

def isjust = complement isnothing .

alias isJust isjust .
alias just? isjust .
alias justp isjust .

def just fn (default maybe)
  maybe identity default .

alias fromMaybe just .
alias result just .